<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion du Parc</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}">
    <script th:src="@{/js/app.js}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script>
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
            const activeTab = document.getElementById(tabId);
            if (activeTab){
            document.getElementById(tabId).style.display = 'block';
            } else{
                console.warn('Tab not found: ' + tabId);
            }
        }

        window.onload = () => {
            const activeTab = document.getElementById('activeTab')?.value || 'vehicles';
            showTab(activeTab);
        }
    </script>
</head>
<body>
    <h1>Gestion du Parc</h1>

    <div>
        <button onclick="showTab('vehicles')">Véhicules</button>
        <button onclick="showTab('drivers')">Conducteurs</button>
        <button onclick="showTab('missions')">Missions</button>
    </div>


    <!-- Véhicules -->
    <div id="vehicles" class="tab-content"  th:replace="~{vehicles/list :: vehicleList}"></div>

    <!-- Conducteurs -->
    <div id="drivers" class="tab-content" style="display:none" th:replace="~{drivers/list :: driverList}"></div>
    <!-- Missions -->
    <div id="missions" class="tab-content" style="display:none" th:replace="~{missions/list :: missionList}"></div>


    <div id="dynamicModalContainer"></div>
    <input type="hidden" id="activeTab" th:value="${activeTab}">
    <!-- Bootstrap JS for Modal -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
